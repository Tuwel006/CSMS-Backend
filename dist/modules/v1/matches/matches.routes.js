"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.matchesRoutes = void 0;
const express_1 = require("express");
const matches_controller_1 = require("./matches.controller");
const team_setup_controller_1 = require("./team-setup.controller");
const auth_middleware_1 = require("../shared/middlewares/auth.middleware");
const router = (0, express_1.Router)();
// Public routes (no authentication required)
router.get('/all', matches_controller_1.MatchesController.getAllMatches);
router.get('/get-score/:id', matches_controller_1.MatchesController.getPublicMatchScore);
// Apply auth middleware to all routes below
router.use(auth_middleware_1.authMiddleware);
router.use(auth_middleware_1.tenantAdminOnly);
router.post('/team-setup', team_setup_controller_1.TeamSetupController.setupTeam);
router.patch('/team-setup/:matchId/:teamId', team_setup_controller_1.TeamSetupController.updateTeamSetup);
router.delete('/team-setup/:matchId/:teamId', team_setup_controller_1.TeamSetupController.deleteTeamSetup);
router.post('/generate-token', matches_controller_1.MatchesController.generateMatchToken);
router.delete('/delete-token/:id', matches_controller_1.MatchesController.deleteMatchToken);
router.get('/current/:id', matches_controller_1.MatchesController.getCurrentCreatedMatch);
router.get('/:id/score', matches_controller_1.MatchesController.getPublicMatchScore);
router.get('/:id/available-batsmen', matches_controller_1.MatchesController.getAvailableBatsmen);
router.get('/:id/bowling-team', matches_controller_1.MatchesController.getBowlingTeamPlayers);
router.post('/:id/set-batsman', matches_controller_1.MatchesController.setBatsman);
router.post('/:id/set-bowler', matches_controller_1.MatchesController.setBowler);
router.post('/:id/record-ball', matches_controller_1.MatchesController.recordBall);
router.patch('/:id/complete', matches_controller_1.MatchesController.completeMatch);
router.patch('/schedule/:id', matches_controller_1.MatchesController.scheduleMatch);
router.patch('/start/:id', matches_controller_1.MatchesController.startMatch);
router.post('/', matches_controller_1.MatchesController.createMatch);
router.get('/tenant', matches_controller_1.MatchesController.getMatchesByTenant);
router.get('/', matches_controller_1.MatchesController.getMatches);
router.get('/:id', matches_controller_1.MatchesController.getMatchById);
router.patch('/:id', matches_controller_1.MatchesController.updateMatch);
router.delete('/:id', matches_controller_1.MatchesController.deleteMatch);
exports.matchesRoutes = router;
